---
import { getCollection } from "astro:content";
import Layout from "../components/layouts/layout.astro";
import ServicesHeader from "../components/sections/services/header.astro";
import ServicesPricing from "../components/sections/services/pricing.astro";
import ServicesFaq from "../components/sections/services/faq.astro";

const services = await getCollection("services");

const order = ["basic", "standard", "premium"];
const sortedServices = services.sort((a, b) => {
  const aIndex = order.indexOf(a.id);
  const bIndex = order.indexOf(b.id);
  return (aIndex === -1 ? 99 : aIndex) - (bIndex === -1 ? 99 : bIndex);
});

const title = "Servicios";
const description =
  "Descubre los paquetes fotogr√°ficos de LensCraft y elige el que mejor se adapte a tu historia.";
---

<Layout title={title} description={description}>
  <div id="services-page" class="relative bg-background">
    <div
      class="pointer-events-none absolute inset-x-0 -top-40 -z-10 h-80 bg-radial from-primary/18 via-background to-background opacity-90"
      aria-hidden="true"
    >
    </div>

    <ServicesHeader />

    <ServicesPricing services={sortedServices} />

    <ServicesFaq />
  </div>
</Layout>
